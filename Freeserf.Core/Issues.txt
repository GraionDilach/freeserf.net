Map Rendering:

- Improve grid drawing in minimap?
- Roads are not at the right location. Sometimes even a bit inside water. Maybe the tiles below are not at the right pos?
	- The relation between road segments is ok though
- Is the leveling updated when the castle has been built?
- There are still some black artifacts sometimes. It seems this is only true for one tile type (grass) and one slope type (a triangle pointing down right).
  It is not affected by zoom or map scrolling so I guess it is a problem with the graphic/shader/index/mask itself. Maybe a mismatch in graphic and mask index.


Non-working code:

- Sometimes a road can not be build in a direction where it should be possible (maybe this is due to wrong map position calculation)
- Map clicks are not always considered or at the right spot/tile
- Sometimes road building is strange. No road is built in direction but then 2-3 at once.
- OtherEndDir not valid exception in Serf.cs line 2801. I guess the CallTransporter call in Flag.cs line 864 is the problem. Direction and/or IsWaterPath are not right.
  Maybe this is also the cause for sailors instead of transporters sometimes.
- Minimap clicks are only sometimes right (at least the map movement)
- PathFinder sometimes returns roads where parts already exist. Is this valid? The road placement afterwards leads to an exception when creating another render road segment on an existing one.
	- So fix in pathfinder if this behavior is wrong or fix in render road segment creation logic if it is valid.
	- Map.IsRoadSegmentValid should return false in these cases so maybe the error is there
	- The bug occurs often when a path or building is destroyed (e.g. when the territory gets bigger)


AI:

- If linking diconnected flags, a flag may be used to connect to castle/stock that is very far away instead of a closer one
- Linking flags should also allow for placing flags on paths and merging paths to a near flag
- The starting spots of the AI players are very close most of the time
- Finding minerals and mine spots is not good yet. The search spots should change from time to time but
  changing doesn't mean putting hundreds of flags at the same mountain.


Serf rendering:

- I saw a serf using a boat on a normal road when transporting stuff. The idle animation was of a normal transporter. :D
	- As other serfs can walk there too it must be an error with the animation index
	- Saw it again. Two with a boat and one normal transporter on a very small road (where only one transporter could be). They even blocked each other. It's a bug.


Logic:

- Saw a builder that doesn't find the correct way (he runs in a cycle). Is this due to pathfinder time limitation?
  This happens often. Some roads can not be used I guess. Something in the serf logic does not work correctly. Or the path finding is bugged.
- Also happened for a group of knights that always took the wrong path and could not get to a hut.
- With increased game speed the AI is much faster than the game (e.g. buildings and roads are already built before the first serf leaves the castle).


Notification Box:

Test again because font char gaps should be smaller now!

- Text too long for:
	FoundStone
    MineEmpty
    OneHourSinceSave
    UnderAttack
- Chaos for:
    LostBuildings


Missing stuff:

- bird sounds
- spectators must be able to view all players (building stocks etc) or must be able to select a player
	- building stocks works now but the statistics and settings are only for player 1
- multiplayer
	- multiplayer should support coop mode (one player is played by two or more clients)
- button to merge roads to a flag


TODO:

- Finish game saving/loading
- Check/improve map position selection (clicks, minimap clicks, centering)
- Finish AIs
- Finish rendering of fighting serfs (additional serf stuff)
- Finish rendering of all additional stuff for all buildings (only mine elevator drawing is not perfect yet)
- Add more game options (like tutorial, multiplayer games or AI vs AI)
- Improve/fix sound
- Look through all TODO code comments and resolve them
- Bugfixing (important is the serf logic which seems to be very bugged in some situations)
- Remove unused code and improve bad code
- Adjust and limit all values properly (like max speed increase and so on)
- Check if all shortcuts/keystrokes work as expected (if not implement them)
- Add new features / improve usability (more infos in UI, better menus, indicators like "how many trees are left for a lumberjack" or even a visual search area if the building is selected)
- Localization (texts should be of the right language later)


Exceptions:

- When a knight wins a fight there is often a bad torso sprite index
- OtherEndPoint of flag is null
- Something with road placement of AI (pathfinder)
- If not debugging there is sometimes an exception in PopupBox.DrawResourceDirectionBox ("Not a knight among the castle defenders.")